/**
 * Responsive Design Styles for CCL Pronunciation Trainer
 * Mobile-first approach with progressive enhancement
 */

/* === CSS CUSTOM PROPERTIES === */
:root {
  --mobile-padding: 1rem;
  --tablet-padding: 2rem;
  --desktop-padding: 3rem;
  
  --mobile-font-base: 1rem;
  --tablet-font-base: 1.125rem;
  --desktop-font-base: 1.125rem;
  
  --mobile-card-padding: 1.5rem;
  --tablet-card-padding: 2rem;
  --desktop-card-padding: 2.5rem;
}

/* === BASE MOBILE STYLES (320px+) === */
.app-container {
  padding: var(--mobile-padding);
  max-width: 100%;
  margin: 0 auto;
}

.main-content {
  margin-top: 1rem;
}

.flashcard-container {
  max-width: 100%;
}

.vocab-card {
  padding: var(--mobile-card-padding);
  min-height: 180px;
}

.word-display__english {
  font-size: 1.5rem;
  line-height: 1.3;
  margin-bottom: 0.5rem;
}

.word-display__chinese {
  font-size: 1.25rem;
  line-height: 1.4;
}

.controls-panel {
  flex-direction: column;
  gap: 0.75rem;
}

.btn {
  width: 100%;
  min-height: 48px; /* Better touch targets */
  font-size: 1rem;
}

.setting-row {
  flex-direction: column;
  align-items: stretch;
  gap: 0.5rem;
  text-align: center;
}

.category-select {
  width: 100%;
  min-width: auto;
  font-size: 1rem;
}

/* === SMALL MOBILE OPTIMIZATION (up to 374px) === */
@media (max-width: 374px) {
  :root {
    --mobile-padding: 0.75rem;
    --mobile-card-padding: 1rem;
  }
  
  .app-header h1 {
    font-size: 1.5rem;
  }
  
  .word-display__english {
    font-size: 1.25rem;
  }
  
  .word-display__chinese {
    font-size: 1.125rem;
  }
  
  .btn {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }
  
  .settings-panel {
    padding: 1rem;
  }
}

/* === LARGE MOBILE / SMALL TABLET (375px - 767px) === */
@media (min-width: 375px) and (max-width: 767px) {
  .word-display__english {
    font-size: 1.75rem;
  }
  
  .word-display__chinese {
    font-size: 1.5rem;
  }
  
  .controls-panel {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .btn {
    flex: 1;
    min-width: 140px;
    max-width: 200px;
  }
  
  .setting-row {
    flex-direction: row;
    text-align: left;
  }
}

/* === TABLET PORTRAIT (768px - 991px) === */
@media (min-width: 768px) and (max-width: 991px) {
  .app-container {
    padding: var(--tablet-padding);
    max-width: 720px;
  }
  
  .vocab-card {
    padding: var(--tablet-card-padding);
    min-height: 220px;
  }
  
  .word-display__english {
    font-size: 2.25rem;
    margin-bottom: 0.75rem;
  }
  
  .word-display__chinese {
    font-size: 1.875rem;
  }
  
  .controls-panel {
    flex-direction: row;
    gap: 1rem;
    max-width: 600px;
    margin: 1.5rem auto;
  }
  
  .btn {
    flex: 1;
    width: auto;
    max-width: none;
    min-height: 48px;
  }
  
  .settings-panel {
    max-width: 500px;
    margin: 2rem auto 0;
  }
  
  .category-select {
    min-width: 280px;
  }
}

/* === TABLET LANDSCAPE / SMALL DESKTOP (992px - 1199px) === */
@media (min-width: 992px) and (max-width: 1199px) {
  .app-container {
    padding: var(--desktop-padding);
    max-width: 960px;
  }
  
  .main-content {
    margin-top: 2rem;
  }
  
  .flashcard-container {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .vocab-card {
    padding: var(--desktop-card-padding);
    min-height: 250px;
  }
  
  .word-display__english {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }
  
  .word-display__chinese {
    font-size: 2rem;
  }
  
  .controls-panel {
    max-width: 600px;
    margin: 2rem auto;
    gap: 1.25rem;
  }
  
  .btn {
    min-height: 50px;
    font-size: 1.125rem;
  }
  
  .settings-panel {
    max-width: 600px;
    margin: 2.5rem auto 0;
  }
}

/* === LARGE DESKTOP (1200px+) === */
@media (min-width: 1200px) {
  .app-container {
    max-width: 1140px;
    padding: var(--desktop-padding);
  }
  
  .flashcard-container {
    max-width: 900px;
    margin: 0 auto;
  }
  
  .vocab-card {
    min-height: 280px;
  }
  
  .word-display__english {
    font-size: 2.75rem;
  }
  
  .word-display__chinese {
    font-size: 2.25rem;
  }
  
  .settings-panel {
    max-width: 700px;
    margin: 3rem auto 0;
  }
  
  /* Two-column layout for very wide screens */
  @media (min-width: 1400px) {
    .main-content {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 3rem;
      align-items: start;
    }
    
    .flashcard-container {
      max-width: none;
    }
    
    .settings-panel {
      margin-top: 0;
      max-width: none;
      position: sticky;
      top: 2rem;
    }
  }
}

/* === LANDSCAPE ORIENTATION ADJUSTMENTS === */
@media (orientation: landscape) and (max-height: 500px) {
  .vocab-card {
    min-height: 150px;
    padding: 1rem;
  }
  
  .word-display__english {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }
  
  .word-display__chinese {
    font-size: 1.25rem;
  }
  
  .settings-panel {
    margin-top: 1rem;
    padding: 1rem;
  }
  
  .controls-panel {
    margin: 1rem auto;
  }
}

/* === HIGH DPI DISPLAYS === */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .vocab-card {
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
  }
  
  .btn {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
}

/* === PRINT STYLES === */
@media print {
  .controls-panel,
  .settings-panel,
  .app-header .controls-top {
    display: none;
  }
  
  .vocab-card {
    box-shadow: none;
    border: 2px solid #000;
    break-inside: avoid;
    margin-bottom: 1rem;
  }
  
  .word-display__english,
  .word-display__chinese {
    color: #000;
  }
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* === HIGH CONTRAST MODE === */
@media (prefers-contrast: high) {
  .vocab-card {
    border: 3px solid;
  }
  
  .btn {
    border: 2px solid;
  }
  
  .progress-bar {
    border: 1px solid;
  }
}

/* === FOCUS VISIBLE IMPROVEMENTS === */
@media (prefers-reduced-motion: no-preference) {
  .btn:focus-visible,
  .select:focus-visible,
  .category-select:focus-visible {
    transform: scale(1.02);
  }
}